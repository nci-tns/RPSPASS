<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<!-- This file has been downloaded from Bootsnipp.com. Enjoy! -->
	<title>Login and Register tabbed form - Bootsnipp.com</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/preferences.css" rel="stylesheet">
	<script src="javascript/jquery-1.11.1.min.js"></script>
	<script src="javascript/bootstrap.min.js"></script>

	<script type="text/javascript">
	</script>
</head>

<body>
	<div class="container">
		<div class="row">
			<div class="col-md-6 col-md-offset-3">
				<div class="panel panel-login">
					<div class="panel-body">
						<button type="button" class="collapsible">General Settings</button>
						<div class="content">

							<div class="row">

								<div class="column">
									<div class="inputs">
										<p>Default outputs:</p>
										<label class="form-control">
											<input type="checkbox" name="checkbox" id="fcsfile" />
											.fcs files
										</label>
										<label class="form-control">
											<input type="checkbox" name="checkbox" id="matfile" />
											.mat files
										</label>
										<label class="form-control">
											<input type="checkbox" name="checkbox" id="xlsxfile" />
											.xlsx files
										</label>
										<label class="form-control">
											<input type="checkbox" name="checkbox" id="jsonfile" />
											.json files
										</label>
									</div>
								</div>

								<div class="column">
									<div class="inputs">

										<p>File locator:</p>
										<select class="form-group form-control form-control-lg dropdown"
											name="filelocator" id="filelocator">
											<option>'_cc'</option>
											<option>'_ss00'</option>
										</select>
									</div>

									<div class="inputs">
										<p>Debug Mode:</p>
										<select class="form-group form-control form-control-lg dropdown" name="debug"
											id="debug">
											<option>on</option>
											<option>off</option>
										</select>
									</div>

									<div class="inputs">
										<p>Parallel Computing:</p>
										<select class="form-group form-control form-control-lg dropdown"
											name="ParallelComputing" id="ParallelComputing" disabled>
											<option>on</option>
											<option>off</option>
										</select>
									</div>
								</div>

							</div>
						</div>

						<button type="button" class="collapsible">Diameter Calibration</button>
						<div class="content">
							
							<div class="row">
								<div class="inputs">
									<p>Diam Calibration:</p>
									<select class="form-group form-control form-control-lg dropdown" name="diamcalitype"
										id="diamcalitype">
										<option>dynamic</option>
										<option>static</option>
									</select>
								</div>

								<div class="inputs">
									<p>Scaling Precision:</p>
									<select class="form-group form-control form-control-lg dropdown" name="diamprecision"
										id="diamprecision">
										<option>Spectradyne</option>
										<option>RPSPASS</option>
									</select>
								</div>
							</div>

							<div class="row">

								<div class="inputs">
									<p>Dynamic Event Limit:</p>
									<input class="form-control" type="number" id="DynamicCalSpikeInThresh">
								</div>

								<div class="inputs">
									<p>Static Event Limit:</p>
									<input class="form-control" type="number" id="StaticCalSpikeInThresh">
								</div>

							</div>
						</div>

						<button type="button" class="collapsible">Outlier Removal</button>
						<div class="content">

							<div class="row">
								<div class="inputs">
									<p>Outlier Removal:</p>
									<select class="form-group form-control form-control-lg dropdown"
										name="outlierremoval" id="outlierremoval">
										<option>on</option>
										<option>off</option>
									</select>
								</div>

								<div class="inputs">

									<p>Removal Basis:</p>
									<label class="form-control">
										<input type="checkbox" name="checkbox" id="OutlierRemoval_Pressure" />
										P1 Pressure
									</label>
									<label class="form-control">
										<input type="checkbox" name="checkbox" id="OutlierRemoval_TransitTime" />
										Transit Time
									</label>
									<label class="form-control">
										<input type="checkbox" name="checkbox" id="OutlierRemoval_CV" />
										CV
									</label>
									<label class="form-control">
										<input type="checkbox" name="checkbox" id="OutlierRemoval_SI" />
										SI
									</label>
									<label class="form-control">
										<input type="checkbox" name="checkbox" id="OutlierRemoval_TTSN" />
										S2N/TT
									</label>
								</div>
							</div>

							<div class="titlerow" style="padding:0%; border: 0px;">
								<h4>Threshold Ranges</h4>
							</div>
							<div class="row">

								<div class="column">

									<div class="inputs">
										<p>CV Range:</p>
										<input class="form-control" type="number" id="Threshold_SpikeIn_CV" value="">
									</div>

									<div class="inputs">

										<p>SI Range:</p>
										<input class="form-control" type="number" id="Threshold_SpikeIn_SI">
									</div>

								</div>

								<div class="column">

									<div class="inputs">
										<p>TT Range:</p>
										<input class="form-control" type="number" id="Threshold_SpikeIn_TT">
									</div>

									<div class="inputs">
										<p>SNTT Range:</p>
										<input class="form-control" type="number" id="Threshold_SpikeIn_TTSN">
									</div>

								</div>
							</div>
						</div>

						
						<button type="button" class="collapsible">Cohort Analysis</button>
						<div class="content">
							
							<div class="row">
								<div class="inputs">
									<div class="inputs">
										<p>Cohort Analysis:</p>
										<select class="form-group form-control form-control-lg dropdown"
											name="cohortAnalysis" id="cohortAnalysis">
											<option>on</option>
											<option>off</option>
										</select>
									</div>
								</div>
							</div>

							<div class="row">

								<div class="inputs">
									<p>Min Sample S2NTT:</p>
									<input class="form-control" type="number" id="CohortAnalysis_MinTTSN_Events">
								</div>

								<div class="inputs">
									<p>Min Noise S2NTT:</p>
									<input class="form-control" type="number" id="CohortAnalysis_MinTTSN_Noise">
								</div>

							</div>
						</div>
					</div>

					<div style="padding: 15px;">
						<div class="col-lg-12">
							<form id="pref-form" action="#" method="post" role="form" style="display: block;">
								<div class="col-sm-8 col-sm-offset-2">
									<button type="button" name="login-submit" id="reset" tabindex="4"
										class="form-control btn btn-login" onclick="">Reset</button>
								</div>
							</form>
						</div>

						<div class="col-lg-12">
							<form id="pref-form" action="#" method="post" role="form"
								style="display: block; padding-top: 15px">
								<div class="col-sm-8 col-sm-offset-2">
									<button type="button" name="login-submit" id="login-submit" tabindex="4"
										class="form-control btn btn-login" onclick="">Save</button>
								</div>
							</form>
						</div>
					</div>
				</div>

			</div>
		</div>
	</div>

	<script type="text/javascript">

		function setup(htmlComponent) {

			var initialData = JSON.parse(htmlComponent.Data);

			// write preferences as default values to inputs
			document.getElementById("fcsfile").checked = initialData.fcsfile;
			document.getElementById("matfile").checked = initialData.matfile;
			document.getElementById("xlsxfile").checked = initialData.xlsxfile;
			document.getElementById("jsonfile").checked = initialData.jsonfile;

			for (var i = 0; i < initialData.filelocatorNum; i++) {
				document.getElementById("filelocator").options[i].selected = initialData.filelocatorSelection[i];
			}

			for (var i = 0; i < initialData.outlierremovalNum; i++) {
				document.getElementById("outlierremoval").options[i].selected = initialData.outlierremovalSelection[i];
			}

			for (var i = 0; i < initialData.diamcalitypeNum; i++) {
				document.getElementById("diamcalitype").options[i].selected = initialData.diamcalitypeSelection[i];
			}

			for (var i = 0; i < initialData.diamprecisionNum; i++) {
				document.getElementById("diamprecision").options[i].selected = initialData.diamprecisionSelection[i];
			}

			for (var i = 0; i < initialData.cohortAnalysisNum; i++) {
				document.getElementById("cohortAnalysis").options[i].selected = initialData.cohortAnalysisSelection[i];
			}

			for (var i = 0; i < initialData.debugNum; i++) {
				document.getElementById("debug").options[i].selected = initialData.debugSelection[i];
			}

			for (var i = 0; i < initialData.ParallelComputingNum; i++) {
				document.getElementById("ParallelComputing").options[i].selected = initialData.ParallelComputingSelection[i];
			}

			document.getElementById("OutlierRemoval_Pressure").checked = initialData.OutlierRemoval_Pressure;
			document.getElementById("OutlierRemoval_TransitTime").checked = initialData.OutlierRemoval_TransitTime;
			document.getElementById("OutlierRemoval_CV").checked = initialData.OutlierRemoval_CV;
			document.getElementById("OutlierRemoval_SI").checked = initialData.OutlierRemoval_SI;
			document.getElementById("OutlierRemoval_TTSN").checked = initialData.OutlierRemoval_TTSN;

			document.getElementById("DynamicCalSpikeInThresh").value = initialData.DynamicCalSpikeInThresh;
			document.getElementById("StaticCalSpikeInThresh").value = initialData.StaticCalSpikeInThresh;
			document.getElementById("Threshold_SpikeIn_CV").value = initialData.Threshold_SpikeIn_CV;
			document.getElementById("Threshold_SpikeIn_SI").value = initialData.Threshold_SpikeIn_SI;
			document.getElementById("Threshold_SpikeIn_TT").value = initialData.Threshold_SpikeIn_TT;
			document.getElementById("Threshold_SpikeIn_TTSN").value = initialData.Threshold_SpikeIn_TTSN;

			document.getElementById("CohortAnalysis_MinTTSN_Events").value = initialData.CohortAnalysis_MinTTSN_Events;
			document.getElementById("CohortAnalysis_MinTTSN_Noise").value = initialData.CohortAnalysis_MinTTSN_Noise;		

			// upon click save overwrite the json array to send back to MATLAB
			document.getElementById("login-submit").addEventListener("click", function (event) {

				initialData.Response = "Save";
				initialData.fcsfile = document.getElementById("fcsfile").checked;
				initialData.matfile = document.getElementById("matfile").checked;
				initialData.xlsxfile = document.getElementById("xlsxfile").checked;
				initialData.jsonfile = document.getElementById("jsonfile").checked;

				let Selection = [];
				for (var i = 0; i < initialData.filelocatorNum; i++) {
					Selection[i] = document.getElementById("filelocator").options[i].selected;
				}
				initialData.filelocatorSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.outlierremovalNum; i++) {
					Selection[i] = document.getElementById("outlierremoval").options[i].selected;
				}
				initialData.outlierremovalSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.diamcalitypeNum; i++) {
					Selection[i] = document.getElementById("diamcalitype").options[i].selected;
				}
				initialData.diamcalitypeSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.diamprecisionNum; i++) {
					Selection[i] = document.getElementById("diamprecision").options[i].selected;
				}
				initialData.diamprecisionSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.cohortAnalysisNum; i++) {
					Selection[i] = document.getElementById("cohortAnalysis").options[i].selected;
				}
				initialData.cohortAnalysisSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.debugNum; i++) {
					Selection[i] = document.getElementById("debug").options[i].selected;
				}
				initialData.debugSelection = Selection;

				Selection = [];
				for (var i = 0; i < initialData.ParallelComputingNum; i++) {
					Selection[i] = document.getElementById("ParallelComputing").options[i].selected;
				}
				initialData.ParallelComputingSelection = Selection;

				initialData.OutlierRemoval_Pressure = document.getElementById("OutlierRemoval_Pressure").checked;
				initialData.OutlierRemoval_TransitTime = document.getElementById("OutlierRemoval_TransitTime").checked;
				initialData.OutlierRemoval_CV = document.getElementById("OutlierRemoval_CV").checked;
				initialData.OutlierRemoval_SI = document.getElementById("OutlierRemoval_SI").checked;
				initialData.OutlierRemoval_TTSN = document.getElementById("OutlierRemoval_TTSN").checked;

				initialData.DynamicCalSpikeInThresh = document.getElementById("DynamicCalSpikeInThresh").value;
				initialData.StaticCalSpikeInThresh = document.getElementById("StaticCalSpikeInThresh").value;
				initialData.Threshold_SpikeIn_CV = document.getElementById("Threshold_SpikeIn_CV").value;
				initialData.Threshold_SpikeIn_SI = document.getElementById("Threshold_SpikeIn_SI").value;
				initialData.Threshold_SpikeIn_TT = document.getElementById("Threshold_SpikeIn_TT").value;
				initialData.Threshold_SpikeIn_TTSN = document.getElementById("Threshold_SpikeIn_TTSN").value;

				initialData.CohortAnalysis_MinTTSN_Events = document.getElementById("CohortAnalysis_MinTTSN_Events").value;
				initialData.CohortAnalysis_MinTTSN_Noise = document.getElementById("CohortAnalysis_MinTTSN_Noise").value;

				htmlComponent.Data = JSON.stringify(initialData);

			});

			// upon click reset overwrite the json array to send back to MATLAB
			document.getElementById("reset").addEventListener("click", function (event) {
				initialData.Response = "Reset";
				htmlComponent.Data = JSON.stringify(initialData);

			});
		};

	</script>

	<script type="text/javascript">
		var coll = document.getElementsByClassName("collapsible");
		var i;

		for (i = 0; i < coll.length; i++) {
			coll[i].addEventListener("click", function () {
				this.classList.toggle("active");
				var content = this.nextElementSibling;
				if (content.style.display === "block") {
					content.style.display = "none";
				} else {
					content.style.display = "block";
				}
			});
		}
	</script>

</body>

</html>